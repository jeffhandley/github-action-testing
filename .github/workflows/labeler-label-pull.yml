name: "Labeler: Label Issue"

on:
  pull_request:
    types: [opened, edited, synchronize, unlabeled]

  workflow_dispatch:
    inputs:
      number:
        description: "Pull Request Number"
        type: number
        required: true
      label_prefix:
        description: "Label Prefix"
        default: "area-"
        required: true
      default_label:
        description: "Default Label (leave blank for no default label)"
        default: "needs-area-label"
      model_repo:
        description: "The org/repo to use for the cached model (defaults to dotnet/runtime)"
        type: string

jobs:
  label-pull:
    permissions:
      pull-requests: write
    uses: jeffhandley/github-ml-labeler/.github/workflows/labeler-label-pull.yml@main
    with:
      number: ${{ fromJSON( inputs.number || github.event.issue.number ) }}
      label_prefix: ${{ inputs.label_prefix || 'area-' }}
      default_label: ${{ inputs.default_label || 'needs-area-label' }}
      model_repo: ${{ inputs.model_repo || 'dotnet/runtime' }}
